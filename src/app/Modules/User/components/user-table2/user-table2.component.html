<div class="container-fluid">
  <div class="row">
    <div class="col-lg-2"></div>
    <div class="col-lg-10">
      <div class="d-flex justify-content-between align-items-center">
        <div class="d-flex align-items-center">
          <input type="text" [(ngModel)]="searchAny" class="form-control my-3 rounded-pill me-3"
            placeholder="Search user" />
          <div style="background-color: brown; width: 40px; height: 31px"
            class="d-flex justify-content-around align-items-center rounded-circle text-white">
            <fa-icon [icon]="faMagnifyingGlass"></fa-icon>
          </div>
        </div>
        <div>
          <fa-icon [icon]="faFilter" class="fs-5 me-3"></fa-icon>
          <select (change)="onSelectCategory($event)">
            <option value="">Select Category</option>
            <option *ngFor="let category of categories" [value]="category.id">{{ category.name }}</option>
          </select>

        </div>
      </div>

      <table class="table table-responsive">
        <thead class="fixed-header">
          <tr class="font-medium text-[var(--text-color)] leading-4">
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>State</th>
            <th></th>
          </tr>
        </thead>
        <tbody class="space-y-4">
          <br />
          @for(user of (users | filter:searchAny | paginate: { itemsPerPage: itemsPerPage, currentPage: p }); track
          user.id){
          <tr class="rounded-start-pill">
            <td class="d-flex rounded-start-pill ps-4 py-3">
              <img class="rounded-circle" src="../../../../assets/images/2.jpg" alt="" />
              <div class="user__details">
                <h5>{{ user.name }}</h5>
                <p>{{ user.detail }}</p>
              </div>
            </td>
            <td>{{ user.email }}</td>
            <td>
              <p-tag [severity]="getSeverity(user.role)" [rounded]="true">{{
                user.role
                }}</p-tag>
            </td>
            <td>{{ user.state }}</td>
            <td class="rounded-end-pill pe-4 text-center">
              <a routerLink="user/" class="btn btn-outline-primary mx-2">Edit</a>
              <button type="button" (click)="deleteUser( $event, user)" class="btn btn-danger">Delete</button>

            </td>
          </tr>
          <br />
          }
        </tbody>
      </table>


      <div class="d-flex justify-content-center align-items-center mt-3">
        <!-- <p-paginator [rows]="rows" [totalRecords]="filteredUsers.length" (onPageChange)="onPageChange($event)"
          [first]="first"></p-paginator> -->
        <pagination-controls (pageChange)="p = $event"></pagination-controls>



      </div>
    </div>
  </div>
</div>


<div class="card flex justify-content-center gap-2">
  <p-toast></p-toast>
  <p-confirmDialog></p-confirmDialog>
</div>